{% load static %}
<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Movie Booking{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- techno/industrial vibe font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <style>
      :root{
        --bg-0:#070a08;           /* near-black */
        --bg-1:#0b100d;           /* darker green-black */
        --ink:#d7fdd5;            /* pale bioluminescent text */
        --muted:#9bb59a;          /* muted text */
        --grid:#123a22;           /* faint grid lines */
        --acid:#7CFF4D;           /* acid green highlight */
        --acid-2:#4CFF89;         /* softer accent */
        --edge:#0f1a13;           /* card edge */
        --glow: 0 0 18px rgba(124,255,77,0.25), 0 0 38px rgba(124,255,77,0.12);
      }

      html, body { height:100%; }
      body {
        background: radial-gradient(1200px 600px at 20% -10%, rgba(92,255,145,0.06), transparent 60%),
                    radial-gradient(900px 500px at 110% 120%, rgba(124,255,77,0.05), transparent 60%),
                    linear-gradient(180deg, var(--bg-1), var(--bg-0) 40%, #050807);
        color: var(--ink);
        font-family: "Share Tech Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        letter-spacing: .3px;
      }

      /* Subtle scanlines */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        background-image:
          linear-gradient(rgba(0,0,0,0.0) 95%, rgba(12,20,14,.18) 100%);
        background-size: 100% 3px;
        opacity: .35;
        mix-blend-mode: multiply;
      }

      .navbar {
        background: linear-gradient(180deg, #0a120d, #060a08);
        border-bottom: 1px solid #0c1d12;
        box-shadow: var(--glow);
      }
      .navbar .navbar-brand,
      .navbar .nav-link {
        color: var(--muted) !important;
        transition: color .2s ease, text-shadow .2s ease;
      }
      .navbar .navbar-brand:hover,
      .navbar .nav-link:hover {
        color: var(--acid) !important;
        text-shadow: 0 0 10px rgba(124,255,77,.55);
      }

      .container { max-width: 960px; }

      .card {
        background: linear-gradient(180deg, #0a130e, #09110d);
        border: 1px solid var(--edge);
        box-shadow: 0 4px 18px rgba(0,0,0,.45), inset 0 0 0 1px rgba(124,255,77,0.06);
        color: var(--ink);
      }
      .table {
        --bs-table-color: var(--ink);
        --bs-table-bg: transparent;
        --bs-table-striped-bg: rgba(18,58,34,.18);
        --bs-table-striped-color: var(--ink);
        --bs-table-border-color: #0f1a13;
      }
      .form-control, .form-select {
        background: #0d1612;
        border: 1px solid #193323;
        color: var(--ink);
      }
      .form-control:focus, .form-select:focus {
        border-color: var(--acid);
        box-shadow: 0 0 0 .25rem rgba(124,255,77,.15);
      }

      .btn-primary {
        background: linear-gradient(180deg, #1b3d29, #10261a);
        border: 1px solid #173b28;
        color: var(--ink);
        text-shadow: 0 0 6px rgba(124,255,77,.35);
      }
      .btn-primary:hover {
        border-color: var(--acid);
        color: #102013;
        background: var(--acid);
        box-shadow: var(--glow);
      }
      .btn-outline-danger {
        --bs-btn-color: #ff7b7b; --bs-btn-border-color:#5e1c1c;
        --bs-btn-hover-bg:#8c1c24; --bs-btn-hover-border-color:#a32626;
        color:#ffb4b4; border-color:#5e1c1c;
      }

      .badge-acid {
        background: linear-gradient(180deg, var(--acid), var(--acid-2));
        color:#0a160f;
        box-shadow: 0 0 12px rgba(124,255,77,.45);
      }

      a { color: var(--acid-2); }
      a:hover { color: var(--acid); text-shadow: 0 0 6px rgba(124,255,77,.5); }

      /* Divider / hr */
      hr { border-color:#123a22; opacity:.35; }

      /* Headings get a thin neon underline */
      h1, h2, h3 {
        position: relative; margin-bottom: .75rem;
      }
      h1::after, h2::after, h3::after {
        content:""; position:absolute; left:0; bottom:-6px; height:2px; width:72px;
        background: linear-gradient(90deg, var(--acid), transparent);
        box-shadow: 0 0 8px rgba(124,255,77,.6);
      }
    </style>

    <script>
      // CSRF helper for fetch() – relies on Django's csrftoken cookie
      function getCSRFToken() {
        const m = document.cookie.match(/(?:^|;)\s*csrftoken=([^;]+)/);
        return m ? decodeURIComponent(m[1]) : null;
      }
    </script>
  </head>

  <body class="d-flex flex-column h-100">
    <nav class="navbar navbar-expand-lg navbar-dark mb-4">
      <div class="container">
        <a class="navbar-brand fw-bold" href="{% url 'home' %}">
          <span style="color:var(--acid)">ALIEN</span>&nbsp; MOVIE • Bookings
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"
                aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="nav" class="collapse navbar-collapse">
          <div class="navbar-nav ms-auto">
            <a class="nav-link" href="{% url 'movies_page' %}">Movies</a>
            <a class="nav-link" href="{% url 'seats_page' %}">Seats</a>
            <a class="nav-link" href="{% url 'history_page' %}">My bookings</a>
          </div>
        </div>
      </div>
    </nav>

    <main class="container flex-shrink-0 pb-5">
      {% block content %}{% endblock %}
    </main>

    <footer class="mt-auto py-3" style="border-top:1px solid #0c1d12;">
      <div class="container small text-muted">
        Weyland-Yutani © 2381 • “Building Better Worlds”
        <span class="badge badge-acid ms-2">LV-426 Ready</span>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
